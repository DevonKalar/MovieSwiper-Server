import { Router } from 'express';
// Routers
import authRouter from './auth.js';
import openaiRouter from './openai.js';
import tmdbRouter from './tmdb.js';
import watchlistRouter from './watchlist.js';
import recommendationsRouter from './recommendations.js';
// Middleware
import {
  authRateLimiter,
  requireUser,
} from '@middleware/auth.js';

const appRouter = Router();

appRouter.use('/auth', authRateLimiter, authRouter);
appRouter.use('/openai', openaiRouter);
appRouter.use('/tmdb', tmdbRouter);
appRouter.use('/watchlist', requireUser, watchlistRouter);
appRouter.use('/recommendations', recommendationsRouter);

export default appRouter;
